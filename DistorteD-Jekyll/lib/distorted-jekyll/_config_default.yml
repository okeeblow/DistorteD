# Override any or all of this default configuration in your Jekyll site's `_config.yml`!

# Is it possible to do a Set of Hashes using the Set syntax in YAML?
# It works with the Array syntax, so that's what I'm using here,
# but keep in mind any Arrays will be converted to Sets when loaded,
# so duplicate Array values will be compacted!

standard_image: &standard_image
  - tag: small
    width: 400
    height: 400
    media: "(max-width: 400px)"
  - tag: medium
    width: 800
    height: 800
    media: "(min-width: 800px)"
  - tag: large
    width: 1500
    height: 1500
    media: "(min-width: 1500px)"

distorted:

  # Liquid template caching is default as of Jekyll 4.0,
  # but it can be disabled if needed.
  # I just can't think of when it would be needed :)
  cache_templates: true

  # Should unrecognized media-types fall back to a bare
  # <img> tag around the original media file?
  # If not, the site build will fail when an unrecognized
  # file is encountered.
  last_resort: true

  # Configure DistorteD format changes by media_type, then by sub_type.
  # The list of target formats is plain text, media_type/sub_type.
  # These are mostly based on IANA's official Media Types list:
  # https://www.iana.org/assignments/media-types/media-types.xhtml
  # but with some custom additions like using 'gif-sequence' for
  # animated GIF and leaving 'image/gif' to refer to single-frame GIFs.
  changes:
    image:
      jpeg:
        ? image/jpeg
        ? image/webp
      png:
        ? image/png
        ? image/webp
      gif:
        ? image/gif
        ? image/png
        ? image/webp
      gif-sequence:
        ? image/gif-sequence
      svg:
        ? image/svg+xml
        ? image/png
        ? image/webp

  outer_limits:
    image:
      jpeg: *standard_image
      png: *standard_image
      webp: *standard_image
